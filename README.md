# Plant2Code

Библиотека для преобразования plantuml кода в исполняемый С-код для проверки работоспособности устройств/агрегатов.

Процесс переноса
- [x] Считывание CSV-таблиц с сигналами
- [ ] Пропуск резервных данных
- [ ] Считывание plantuml-кода
- [ ] Проверка сигналов plantuml-кода
- [ ] Проверка корректности plantuml-кода
- [ ] Генератор С-кода

## Исходные данные

### CSV-таблицы

Используются для заполнения информации о сигналах.

Библиотека предусматривает использование:
- Входных сигналов.
- Выходных сигналов.
- Внутренних сигналов.
- Констант.
- Таймеров.
- Произвольных типов данных (струтур).

Сигналы могут быть представлены в одной CSV-таблице (не реализовано в прошлой версии). Определение типа сигнала просходит по префиксу названия, которые задаются в при настройке считывающего класса (не реализовано в прошлой версии. Используется привязка к конкретному префиксу сигнала.). 

Колонки, содержащие необходимые атрибуты также определяются при настроке считывающего класса (не реализовано в прошлой версии. Используется привязка к конкретному названию столбца.).

Дальнейшее описание основывается на текущей реализации, при изменении/доработке дальнейший текст не действителен.

#### Возможные столбцы таблицы

- Название переменной ("Обозначение", "Обозначение состояния", "Обозначение сигнала")
- Текстовое описание ( "Наименование", "Название сигнала", "Название состояния)
    - Данные с описанием "Резерв" игнорируются 
- Тип переменной ("Тип данных")
- Значение переменной ("Значение")

Таблицы не должны оканчитваться игнорируемым сигналом. (не реализовано в прошлой версии)
#### Префиксы данных

Использующиеся префиксы:
- Входных сигналов - X.
- Выходных сигналов - Y.
- Внутренних сигналов - Z.
- Констант - C.
- Таймеров - T.
- Произвольных типов данных (струтур) - S.


#### Содержание CSV-таблицы с сигналами

- Колонка с типом данных:
    - Используются произвольно-задаваемые типы (Работа существующего варанта предусматривает типы: (U)Int8, (U)Int16, (U)Int32, (U)Int64 и float).
    - Допускает использование массивов Int8[<Размер>].
- Текстовое описание сигнала (опционально).
- Название переменной:
    - Допускает использование индекса массива Int8[0], при объявлении массива "по-кускам". При подобном объявлении массив в типе данных не указывается.
    - Допускает использование полногного размера, при объявления маасива за раз <Название сигнала>[0..2].При подобном объявлении массив в типе данных указывается (в данном случае <Размер> = 3).

#### Содержание CSV-таблицы со структурами

См. Содержание CSV-таблицы с сигналами.

Дополнительно допускает объявление типа структуры, при котором поля с типом данных не заполняется.

#### Содержание CSV-таблицы с константами

- Текстовое описание константы (опционально).
- Название переменной. Использование маасивов не допускается.
- Значение перемнной (предполагается использование численных констант. + Вычсиления, которые можно провести в С).

#### Содержание CSV-таблицы с таймерами

- Текстовое описание сигнала (опционально).
- Название переменной. Использование маасивов не допускается.

#### Примеры таблиц

См example/CSV/

### PlantUml

### Генератор C-кода